--GUIA BASICA DE SQL-SERVER
--AUTHOR:  MIGUEL CHIN-XAY

Lo primero que hacemos cuando ya tenemos una base de datos creada es ver las tablas que la componen
para esto podemos usar el StoredProcedure siguiente:
--Recordar que solo mostrara las creadas por el usuario y no por el SQL Server
  SP_TABLE @TABLE_OWNER='DBO'

--CREAR UNA TABLA
  CREATE TABLE USUARIO
  (ID_USUARIO VARCHAR(8) PRIMARY KEY,
  NOMBRE_USUARIO VARCHAR(14),
  CLAVE_USUARIO VARCHAR(10)
  )

  CREATE TABLE AGENDA
  (AG_APELLIDO VARCHAR(15),
  AG_NOMBRE VARCHAR(15),
  AG_DOMICILIO VARCHAR(15),
  AG_TELEFONO VARCHAR(11)
  )

--ELIMINAR UNA TABLA PERO PRIMERO PREGUNTAREMOS SI LA TABLA EXISTE
  IF OBJECT_ID('USUARIO') IS NOT NULL
    DROP TABLE USUARIO
  GO


--MOSTRAMOS LA ESTRUCTURA DE LA TABLA USUARIO
  SP_COLUMNS USUARIO
  GO

--INSERTAMOS REGISTROS(FILAS) PARA LA TABLA USUARIO
  INSERT INTO USUARIO(ID_USUARIO,NOMBRE_USUARIO,CLAVE_USUARIO) 
  VALUES ('12345','MIGUEL CHIN','PWDS')
  GO

--INSERTAMOS UN CONTACTO A LA AGENDA
  INSERT INTO AGENDA(AG_NOMBRE,AG_APELLIDO,AG_DOMICILIO,AG_TELEFONO) 
  VALUES ('Michael','Renmc','Av. Libertad','963778547')
  GO

--AHORA MOSTRAREMOS LOS DATOS USANDO EL COMANDO SELECT EN LA TABLA AGENDA
  SELECT*FROM AGENDA
  GO

--MOSTRAR SOLO EL NOMBRE DE LA PELICULA Y EL ACTOR
SELECT NOMB_PELICULA,ACTOR_PELICULA FROM PELICULA
GO

--MOSTRAR EL TITULO Y CANTIDAD DE COPIAS
SELECT NOMB_PELICULA,CANTIDAD_COPIAS_PELICULA FROM PELICULAS

--CONDICIONES EN LAS CONSULTAS 'WHERE'
--PARA INDICAR CONDICIONES EN LA CONSULTA SELECT, Y ASI PODER RECUPERAR SOLO ALGUNOS
--REGISTROS AQUELLOS QUE CUMPLAN CON LA CONDICION INDICADA EN LA CLAUSULA 'WHERE'
--SINTAXIS GENERAL

SELECT CAMPO1,CAMPO2,...,CAMPO_N FROM NOMBRE_TABLA WHERE CONDICION

--EJEMPLO
SELECT ID_USUARIO,CLAVE_USUARIO FROM USUARIO WHERE NOMBRE_USUARIO='MICHAEL'
GO

IF OBJECT_ID('AGENDA') IS NOT NULL
  DROP TABLE AGENDA
GO
--ESTRUCTURA DE LA TABLA
SP_COLUMNS AGENDA
GO

--INGRESAMOS ALGUNOS REGISTROS A LA AGENDA
INSERT INTO AGENDA(AG_APELLIDO,AG_NOMBRE,AG_DOMICILIO,AG_TELEFONO) 
VALUES ('ACOSTA','ANA','COLON 123',12345)
GO

--SELECCIONAMOS TODOS LOS CAMPOS DE LA TABLA
SELECT*FROM AGENDA
GO

--SELECCIONAMOS EL REGISTRO DE NOMBRE 'MARISSA'
SELECT*FROM AGENDA WHERE AG_NOMBRE='MARISSA'
GO

--MOSTRAMOS LOS NOMBRE Y DOMICILIO DE TODOS LOS LOPEZ
SELECT AG_NOMBRE,AG_DOMICILIO, FROM AGENDA WHERE AG_APELLIDO='LOPEZ'
GO

--MOSTRAR EL NOMBRE DE QUIENES TENGAN EL NUMERO TELF 4545454
SELECT AG_NOMBRE FROM AGENDA WHERE AG_TELEFONO='4545454'
GO

--LOS OPERADORES RELACIONALES
--LOS OPERADORES SON SIMBOLOS QUE NOS VA A PERMITIR REALIZAR OPERACIONES 
--MATEMATICAS. SQL TIENE 4 TIPOS DE OPERADORES:
--RELACIONALES(O DE COMPARACION), ARITMETICOS,DE CONCATENACION,LOGICOS
--EN PRINCIPIO USAREMOS LOS REALACIONALES: =,<>,<,>,<=,>=
--EJEMPLO SELECCIONAR LOS REGISTROS CUYO AUTOR SEA DIFERENTE A 'BORGES'

SELECT*FROM LIBROS WHERE AUTOR<>'BORGES'
GO

  continua...
